import streamlit as st
import random

# ì›¹ì•± ì œëª© ê¾¸ë¯¸ê¸°
st.markdown("""
    <h1 style='text-align: center; color: #FF69B4;'>ğŸ“šâœ¨ ê·€ì—¼ë½€ì§ êµ­ì–´ ê¸€ì“°ê¸° ì˜ˆì‹œ ìƒì„±ê¸° âœ¨ğŸ“š</h1>
""", unsafe_allow_html=True)

st.markdown("""
<style>
    .stSelectbox label, .stButton button, .stTextInput label, .stTextArea label {
        font-size: 20px !important;
        color: #FF6F61;
    }
</style>
""", unsafe_allow_html=True)

# ì„ íƒ ì˜µì…˜ ì •ì˜
grades = ['1í•™ë…„ ğŸ£', '2í•™ë…„ ğŸ¥', '3í•™ë…„ ğŸ¤', '4í•™ë…„ ğŸ¦', '5í•™ë…„ ğŸ§', '6í•™ë…„ ğŸ¦œ']
writing_types = ['í¸ì§€ê¸€ ğŸ’Œ', 'ë…¼ì„¤ë¬¸ ğŸ—£ï¸', 'ì„¤ëª…ë¬¸ ğŸ“˜', 'ì‹œ âœ¨', 'ì†Œì„¤ ğŸ“–', 'ìˆ˜í•„ ğŸŒ¸', 'ë…í›„ê° ğŸ“š']

# ì‚¬ìš©ì ì…ë ¥ ë°›ê¸°
st.sidebar.markdown("### ğŸ§¸ í•™ë…„ê³¼ ê¸€ ì¢…ë¥˜ë¥¼ ê³¨ë¼ë³´ì„¸ìš”!")
selected_grade = st.sidebar.selectbox("ğŸ“š í•™ë…„ ì„ íƒ", grades)
selected_type = st.sidebar.selectbox("ğŸ“ ê¸€ì˜ ì¢…ë¥˜ ì„ íƒ", writing_types)

# ì˜ˆì‹œ ê¸€ ë°ì´í„°ë² ì´ìŠ¤ (ì¶”ê°€ë¨)
examples = {
    '1í•™ë…„': {
        'í¸ì§€ê¸€': ["ì—„ë§ˆì—ê²ŒğŸ’Œ: ì—„ë§ˆ, ì‚¬ë‘í•´ìš”! ì–¸ì œë‚˜ ë§›ìˆëŠ” ë°¥ í•´ì¤˜ì„œ ê³ ë§ˆì›Œìš”! ğŸ’–"],
        'ì‹œ': ["ğŸŒ¼ë´„ğŸŒ¼\nê½ƒì´ í”¼ì—ˆì–´ìš”.\në‚˜ë¹„ê°€ ë‚ ì•„ìš”.\në´„ì´ ì™”ì–´ìš”!"],
        'ì„¤ëª…ë¬¸': ["ìš°ì‚°ì€ ë¹„ë¥¼ ë§‰ì•„ì£¼ëŠ” ë¬¼ê±´ì´ì—ìš”. ë¹„ ì˜¤ëŠ” ë‚  ê¼­ í•„ìš”í•´ìš” â˜”"]
    },
    '2í•™ë…„': {
        'ìˆ˜í•„': ["ë‚˜ëŠ” ì˜¤ëŠ˜ í•™êµì—ì„œ ì¹œêµ¬ì™€ ë†€ì•˜ë‹¤. ê·¸ ìˆœê°„ì´ ë„ˆë¬´ í–‰ë³µí–ˆë‹¤ ğŸ˜Š"],
        'ì‹œ': ["âœ¨ë³„ë¹›âœ¨\ní•˜ëŠ˜ì— ë°˜ì§ì´ëŠ” ë³„\në‚˜ì˜ ê¿ˆë„ ë°˜ì§ë°˜ì§"]
    },
    '3í•™ë…„': {
        'ë…¼ì„¤ë¬¸': ["ğŸ“¢ í•™êµ ê¸‰ì‹ì— ê³¼ì¼ì„ ë” ë„£ì–´ì•¼ í•´ìš”! ê±´ê°•í•´ì§€ê³  ê¸°ë¶„ë„ ì¢‹ì•„ì ¸ìš”!"],
        'ì„¤ëª…ë¬¸': ["ğŸ§  ë‡ŒëŠ” ìš°ë¦¬ ëª¸ì„ ì¡°ì ˆí•˜ëŠ” ì¤‘ìš”í•œ ê¸°ê´€ì´ì—ìš”. ìƒê°í•˜ê³  ì›€ì§ì´ê³  ê¸°ì–µí•´ìš”!"],
        'ìˆ˜í•„': ["í• ë¨¸ë‹ˆ ëŒì— ë‹¤ë…€ì™”ë‹¤. ê³ ì–‘ì´ë„ ë³´ê³ , ì‹œê³¨ ê³µê¸°ë„ ë§ˆì…¨ë‹¤ ğŸ¡"]
    },
    '4í•™ë…„': {
        'ì†Œì„¤': ["ğŸŒ²ìˆ² ì†ì˜ ë¹„ë°€ ë¬¸\nì§€ë¯¼ì´ëŠ” ë‚˜ë¬´ ë’¤ì— ìˆ¨ì–´ ìˆëŠ” ë¹›ë‚˜ëŠ” ë¬¸ì„ ë°œê²¬í–ˆë‹¤..."],
        'í¸ì§€ê¸€': ["ì¹œêµ¬ì—ê²ŒğŸ’Œ: ì˜¤ëŠ˜ ê°™ì´ ë†€ì•„ì„œ ì¦ê±°ì› ì–´! ë‹¤ìŒì—ë„ ë†€ì~"]
    },
    '5í•™ë…„': {
        'ì†Œì„¤': ["ğŸ± ê³ ì–‘ì´ ë£¨ë£¨ì˜ ëª¨í—˜\në£¨ë£¨ëŠ” ìˆ² ì†ì—ì„œ ë°˜ì§ì´ëŠ” êµ¬ìŠ¬ì„ ì°¾ìœ¼ëŸ¬ ë– ë‚¬ì–´ìš”..."],
        'ë…í›„ê°': ["ğŸ“š ã€ê°•ì•„ì§€ ë˜¥ã€ì„ ì½ê³ \nì‘ì€ ê°•ì•„ì§€ ë˜¥ë„ ì†Œì¤‘í•œ ì¼ì„ í•  ìˆ˜ ìˆë‹¤ëŠ” ê±¸ ì•Œê²Œ ë˜ì—ˆì–´ìš”."],
        'ë…¼ì„¤ë¬¸': ["ëª¨ë‘ê°€ í™˜ê²½ì„ ì§€ì¼œì•¼ í•´ìš”. ì‘ì€ ì‹¤ì²œì´ í° ë³€í™”ë¥¼ ë§Œë“¤ì–´ìš” ğŸŒ"]
    },
    '6í•™ë…„': {
        'ì„¤ëª…ë¬¸': ["íƒœì–‘ê³„ëŠ” ì—¬ëŸ¬ í–‰ì„±ìœ¼ë¡œ ì´ë£¨ì–´ì ¸ ìˆì–´ìš”. ì§€êµ¬ëŠ” ì„¸ ë²ˆì§¸ í–‰ì„±ì´ì—ìš” ğŸŒ"],
        'ë…¼ì„¤ë¬¸': ["ì²­ì†Œë…„ë„ ì‚¬íšŒì— ì˜ê²¬ì„ ë‚¼ ìˆ˜ ìˆì–´ì•¼ í•´ìš”. ëª©ì†Œë¦¬ë¥¼ ë‚¼ ê¶Œë¦¬ê°€ ìˆì–´ìš”! ğŸ—£ï¸"]
    }
}

# í•™ë…„ ì •ë¦¬ (1í•™ë…„ -> '1í•™ë…„')
grade_key = selected_grade[0] + 'í•™ë…„'
writing_key = selected_type.split(' ')[0]

# ê¸€ ìë™ ìƒì„± (AI ëŒ€ì²´ìš© ëœë¤ ìƒì„±)
def generate_random_sentence(wtype, grade):
    starters = ["ì˜¤ëŠ˜ì€", "ë‚˜ëŠ”", "ìš°ë¦¬ ë°˜ì€", "ëª¨ë‘ê°€"]
    middles = ["ì¦ê±°ìš´ ì¼ì„", "ìƒê°ì„", "ì¤‘ìš”í•œ ì‚¬ì‹¤ì„", "ëŠë‚€ ì ì„"]
    endings = ["ê¸°ë¡í–ˆë‹¤.", "ëŠê¼ˆë‹¤.", "ì „í•˜ê³  ì‹¶ë‹¤.", "ì„¤ëª…í•˜ê³  ì‹¶ë‹¤."]
    return f"{random.choice(starters)} {random.choice(middles)} {random.choice(endings)} ({grade} {wtype})"

# ì¶œë ¥
st.markdown("### ğŸ‰ ìƒì„±ëœ ê¸€ ì˜ˆì‹œ âœï¸")
if grade_key in examples and writing_key in examples[grade_key]:
    result = random.choice(examples[grade_key][writing_key])
    st.markdown(f"""
    <div style='background-color:#FFF0F5; padding: 20px; border-radius: 15px; font-size: 20px;'>
    {result}
    </div>
    """, unsafe_allow_html=True)
else:
    ai_generated = generate_random_sentence(writing_key, grade_key)
    st.markdown(f"ğŸ’¡ AI ìë™ ìƒì„± ì˜ˆì‹œ: {ai_generated}")

# ì§ì ‘ ê¸€ ì¨ë³´ê¸°
st.markdown("---")
st.markdown("### âœï¸ ë‚˜ë§Œì˜ ê¸€ì„ ì§ì ‘ ì¨ ë³´ì„¸ìš”!")
user_input = st.text_area("ğŸ’Œ ì—¬ê¸°ì— ê¸€ì„ ì¨ë³´ì„¸ìš” (ì£¼ì œ: {} {})".format(selected_grade, selected_type))
if user_input:
    st.success("âœ… ê¸€ì´ ì˜ ì €ì¥ë˜ì—ˆì–´ìš”! ë©‹ì§„ ê¸€ì´ì—ìš”~ âœ¨")
    st.markdown(f"""
    <div style='background-color:#E6E6FA; padding: 20px; border-radius: 15px;'>
    <strong>ğŸ–ï¸ ë‚˜ì˜ ê¸€:</strong><br>{user_input}
    </div>
    """, unsafe_allow_html=True)

st.markdown("""
---
<div style='text-align:center;'>
    <p>ğŸˆ ë§¤ì¼ë§¤ì¼ ë‹¤ì–‘í•œ ê¸€ì„ ì¨ ë³´ë©° ë©‹ì§„ ì‘ê°€ê°€ ë˜ì–´ë´ìš”! âœï¸ğŸ§¸</p>
</div>
""", unsafe_allow_html=True)
